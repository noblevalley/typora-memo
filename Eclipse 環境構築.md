# Eclipse 環境構築

## Eclipseとは

多様なプログラミング言語に対応した統合開発環境（以下IDE）です。

「エクリプス」と読みます。

作成したのは半導体からソフトウェアまで全てのコンピューター製品を提供しているアメリカ企業「IBM」です。

名前の由来は公にしている訳ではありませんが、当時の競合企業「Sun Microsystems」の生み出したプログラミング言語「Java」人気に追いすがろうと対抗して「エクリプス（日蝕）」と名付けたと言われています。ちなみに「Sun Microsystems」はその後データベースソフトウェア企業「Oracle」に買収されています。

「Eclipse Public License」が非常に緩やかで「再配布可能、ソースコード公開の義務なし、商用・個人利用可」という懐の広さによりEclipseベースのソフトウェア再配布サイトが増え、当時存在した技術的な導入しづらさがあった部分が解消されています。特に有名なのが「Pleiades（プレアデス）」という日本語化プラグインをリリースしているところで、ダウンロードして解凍すればすぐに日本語化された状態で使用できるところまで作りこんでいます。

起動にはJavaのランタイム「JRE（Javaのバージョン10まで存在していましたが、バージョン11以降はJDKに統合されています）」が必要です。「SWT」という技術により、当時は他のJava対応IDEよりは早く起動できていましたが、Java自体非常にリソースを消費するため、Javaを必要としない後発の「Visual Studio Code」よりは遅くなります。

起動の為のJavaのバージョンに強く依存しますが、その代わりEclipseの起動に必要なJavaとシステム開発に必要なJavaのバージョンを分けて開発することができます。

### メリット

□多様なプログラミング言語に対応しています。

□Eclipseのインストールされたディレクトリ配下で環境が完成されるため、別のEclipse開発環境が構築しやすく、お互いの環境を壊すことはありません。またEclipse側で定義した設定を優先しますので、OS側で別途環境変数の定義も不要です。

□ライセンスが非常に緩やかで、個人・商用問わず利用できます。

□コミュニティによるプラグイン（拡張機能）やプラグインを取り込んだ再配布版などが豊富にあります。

□それなりに歴史があり、バージョンに気を使いさえすればWebサイトや書籍など、そこそこの情報があふれています。

### デメリット

□プラグインを多く取り込むほど動作が遅くなります。軽快に動かすには高いスペックのPCが要求されます。

□Javaのバージョンに強い依存性があり、プラグイン仕様も大きく変わりますので、このバージョンの組み合わせでしか動作しないということが良くあります。



## バージョンについて

3か月に1回、3の倍数月にメジャーアップデートがリリースされています。

かつては天体・ギリシャ神話からコードネームが割り当てられていました。現在はコードネームは廃止されています。

バージョン番号は法則性が公開されていないので何とも言えませんが、アップデートを行うとプラグインなどが使用できなくなる可能性があるようですので、バージョンアップ版がリリースされても既存の開発環境には適用しないのが一般的です。

Javaのライセンスがバージョン8まで無償で使用出来ていたのですが、バージョン9以降は有償でなければ使用できないようになっています。それにより使用できるEclipseのバージョンも変わります。

実際の開発現場におきまして、いったん納品運用してしまいますとJavaもEclipseもアップグレードすることはほとんどありません。

最新版がリリースされてもすぐに使用することはなく、逆に過去版のEclipseをダウンロードして使用することが多いです。日本語版プラグイン「Preades」の配布サイトにも非常に古いものが今でもダウンロード可能となっています。恐らくもの凄く需要があるのかと思われます。



## ダウンロード

Eclipseを入手します。2020/08/14現在の方法です。

GoogleChromeブラウザを起動して日本語版プラグイン「Preades」の配布サイト「MergeDoc Project」へ接続します。

https://mergedoc.osdn.jp/

![2020-08-17 10_26_57-Pleiades - Eclipse、IntelliJ などの日本語化プラグイン](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-17%2010_26_57-Pleiades%20-%20Eclipse%E3%80%81IntelliJ%20%E3%81%AA%E3%81%A9%E3%81%AE%E6%97%A5%E6%9C%AC%E8%AA%9E%E5%8C%96%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3.png)

利用したいバージョン番号をクリックします。

気が向いたら過去のバージョンがどれくらいまであるかスクロールして見てみると良いでしょう。

32bitのCPUを利用している場合、対応しているバージョンは「Eclipse 2018」にリリースされたものが最終となります。それ以降は64bit版しかリリースされていません。仮に32bitのCPU上で64bit版をインストールしても動作しません。必ずOSのシステム情報からCPUのbit数の確認をお願いします。



![2020-08-13 16_56_36-システム](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-13%2016_56_36-%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0.png)

Windowsの場合、コントロールパネルを起動して以下の設定で確認できます。

コントロールパネル > システムとセキュリティ > システム

システムの種類：64ビット オペレーティングシステム、x64ベース プロセッサ

と書かれていれば64bitのCPUを使用されていると判断できます。



ここでは64bitのCPUを使用しているという前提で進めます。

今回は「Eclipse 2019」をクリックします。



![2020-08-17 10_28_24-https___mergedoc.osdn.jp](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-17%2010_28_24-https___mergedoc.osdn.jp.png)

利用するOSとプログラミング言語の「Full Edition」を選択します。

今回は行項目「Windows 64bit」「Full Editon」で列項目「Java」の交差したセルの「Download」をクリックします。

「Platform」とはプログラミング言語に関する機能が全く搭載されていない素のEclipse本体です。この中では起動動作が一番早いです。

「Ultimate」とは「Platform」とは逆にJava、C/C++、PHP、Pythonの言語環境が全て入っています。この中では一番起動動作が遅いです。

「Full Edition」と「Standard Edition」の違いはJavaのランタイム「JRE」があるかです。既にJavaがインストール済みで「JRE」同梱が不要であれば「Standard Edition」を選択します。

しかし「JRE」はインストールフォルダ配下に置かれたものを優先して動作する仕様になっており、環境をEclipseインストールフォルダ配下にまとめてしまえばJavaのバージョンを切り替えた開発が簡単にできますので、配布サイトにもお勧めと書いてあります通り、例え「JRE」がOS上にインストール済みでありましても「Full Edition」を選択したほうが良いです。



![2020-08-17 11_09_51-https___mergedoc.osdn.jp](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-17%2011_09_51-https___mergedoc.osdn.jp.png)

zipファイルのリンクをクリックします。

ダウンロードが始まります。

特に指定をしなければダウンロードフォルダは以下の場所になっているかと思います。

![2020-08-17 12_54_40-ダウンロード](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-17%2012_54_40-%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89.png)

エクスプローラーを起動します。

PC > ダウンロード

### 余談

「Preades」配布のサイト名にもなっています「MergeDoc」はかつて存在していたEclipseプラグインです。当時Eclipseは公式の日本語化パックがありましたが、メニューとか解りやすい箇所だけで、ポップアップなど解りにくいところは英語のままでした。そのポップアップメッセージを英語から日本語に変換するという動作をしていたのが「MergeDoc」です。今はポップアップだけではなくすべての英語の箇所に対して日本語に翻訳変換する「Preades」に機能を一本化してしまいましたので単体では存在していません。

存在していた証が以下のリンク先にまだ残っていました。今となりましては見る価値はないかも知れませんが、歴史として知っておいてください。

MergeDocでEclipseのポップアップ表示を日本語化する

https://www.atmarkit.co.jp/ait/articles/0411/29/news091.html



## インストール

入手したファイルを元にインストールを行います。

今回はEclipse 2019のjava版をダウンロードしましたのでその前提で作業を進めます。



### インストール先を決める

インストール先のフォルダを決めておきます。

もしハードディスクが「C」ドライブ以外に存在するようでしたら、なるべくそこへインストールをした方が良いです。

OSがインストールされている「C」ドライブとは別の方が比較的動作が安定するからです。

「E」ドライブがある前提で以下のフォルダ構成にします。「C」ドライブしかない場合は「C」に置き換えてください。



□インストール先「E:\project\eclipse.2019.java.AbridgeTraining」

![2020-08-13 15_36_17-Window](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-13%2015_36_17-Window.png)

「E」ドライブをクリックし、そのまま右クリック「メニュー」－「新規作成」ー「フォルダー」をクリックし、「project」フォルダを作成します。

「eclipse.2019.java.AbridgeTraining」フォルダは次のインストール作業によって作成しますが、この名前にした意味は、環境のバージョンと使用用途がフォルダ名によって後から誰が見ても解るようにする為です。

とりあえずバージョン、使用用途の順番になっていますが、順番は名前の規則が統一されていればどちらでも構いません。名前の規則の事を「命名規約」といいます。

この命名規約によって環境構築を行えば、これから仕事をする上でも移行や整理が容易になります。

今後複数のプロジェクトを並行して開発を行うことが想定されますので、是非ともこの考えは持っておいてください。たとえ１人だけで開発することになったとしても今覚えていることを１年後覚えているとは限りません。今の自分と１年前の過去の自分と１年後の未来の自分は全くの別人と思ってください。



### 解凍する

ダウンロードしてきた圧縮ファイルを解凍します。

前提条件は以下の通りですが、もし違う場合はそれぞれ読み替えてください。



□アーカイバー「7-Zip」が既にインストールされています。

□圧縮ファイル「pleiades-2019-12-java-win-64bit-jre_20200213.zip」を解凍します。

□インストール先「E:\project\eclipse.2019.java.AbridgeTraining」



エクスプローラーを起動します。

ダウンロードしてきた圧縮ファイルをインストール先へコピーします。

PC > ダウンロード

![2020-08-17 14_59_35-XAMPP 環境構築.md - Typora](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-17%2014_59_35-XAMPP%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.md%20-%20Typora.png)

圧縮ファイルを右クリック「メニュー」－「切り取り」をクリックし、「E:\project」へ移動して右クリック「メニュー」－「貼り付け」をクリックします。

コピーした圧縮ファイルが「E:\project」上にあることを確認します。

![2020-08-17 15_01_02-](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-17%2015_01_02-.png)

圧縮ファイルを右クリック「メニュー」－「7-Zip」－「ここに展開」をクリックします。



![2020-08-17 15_02_11-3% 展開 E__project_pleiade ... t-jre_20200213.zip](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-17%2015_02_11-3%25%20%E5%B1%95%E9%96%8B%20E__project_pleiade%20...%20t-jre_20200213.zip.png)

ダイアログが出るので待ちます。

ダイアログが自動的に閉じられ、「pleiades」フォルダが作成されていることを確認します。

「pleiades」フォルダを「eclipse.2019.java.AbridgeTraining」フォルダへリネームします。





「pleiades」フォルダを右クリック「メニュー」－「名前の変更」をクリックします。

フォルダ名が反転しますので、「eclipse.2019.java.AbridgeTraining」と入力して「Enter」キーを押します。

フォルダ名が「eclipse.2019.java.AbridgeTraining」になっていることを確認します。

元の圧縮ファイルは不要であれば削除しても大丈夫です。



### インストールする

Eclipseをインストールします。

前提条件は以下の通りですが、もし違う場合はそれぞれ読み替えてください。



□解凍/インストール先「E:\project\eclipse.2019.java.AbridgeTraining\」



解凍してできたフォルダへ移動します。



「eclipse」フォルダをダブルクリックして入ります。

![2020-08-17 15_15_40-eclipse](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-17%2015_15_40-eclipse.png)

cmdファイル「eclipse.exe -clean.cmd」をダブルクリックして起動します。



Eclipseの起動ロゴが出てきます。

「eclipse.exe -clean.cmd」は設定ファイルを読まずに初回起動と同じ起動を行います。初回起動時であれば直接「eclipse.exe」を起動しても同じです。次回から「eclipse.exe」を直接起動すれば設定ファイルを読みに行く起動になります。

プラグインを新しく入れたりインストールフォルダを変更した時はこの処理を動かせば使用できるようになりますし、あらかじめ設定を変更したものを再配布したい時にも他のPCへコピーするだけで済みます。手順書に設定方法を記述する手間から解放されます。



![2020-08-17 15_19_29-Eclipse IDE ランチャー](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-17%2015_19_29-Eclipse%20IDE%20%E3%83%A9%E3%83%B3%E3%83%81%E3%83%A3%E3%83%BC.png)

「ワークスペースとしてのディレクトリー選択」ダイアログが出てきます。もし既に開発環境が出来ていてワークスペースがあるようでしたら指定します。新規開発で何もなければデフォルトの「../workspace」にします。

「この選択をデフォルトとして使用し、今後この質問を表示しない」のチェックは並行して別プロジェクトを同じ環境で開発したいといった要望があればチェックを外した方が便利なのですが、別プロジェクトはEclipseごと別環境にした方が現実的な利用方法ですので、チェックを入れた方が良いです。

「起動」ボタンをクリックします。

![2020-08-17 15_25_51-E__project_eclipse.2019.java.AbridgeTraining_workspace - Eclipse IDE](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-17%2015_25_51-E__project_eclipse.2019.java.AbridgeTraining_workspace%20-%20Eclipse%20IDE.png)

Eclipseの画面が出てきます。

![2020-08-17 15_26_36-eclipse.2019.java.AbridgeTraining](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-17%2015_26_36-eclipse.2019.java.AbridgeTraining.png)

エクスプローラーに戻り、「eclipse」フォルダより上の階層に移動しますと、「workspace」フォルダが出来ています。今後Javaプログラムのソースコードを作成しますと、「workspace」フォルダの配下にファイルが作成されていきます。



## 画面説明

良く使用する機能を中心に簡単な画面説明をします。正しい名称を覚えておけばWeb検索や質問などが的確にしやすくなります。

### ようこそ（初回起動）

![2020-08-24 14_03_23-E__project_eclipse.2019.java.AbridgeTraining_workspace - Eclipse IDE](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-24%2014_03_23-E__project_eclipse.2019.java.AbridgeTraining_workspace%20-%20Eclipse%20IDE.png)

初回起動時に出てくる画面です。

ウィザード形式で何かする場合はこの画面にあるリンク先をクリックしてみて概要をつかんでください。

何をするか決まっている場合は右下にある「起動時前に常に「ようこそ」を表示」のチェックを外して右上にある「ワークベンチ」をクリックします。

もしようこそ画面を再度出したい場合はメニューの「ヘルプ」ー「ようこそ」をクリックすると再表示できます。



### ワークベンチ

![2020-08-24 14_11_26-E__project_eclipse.2019.java.AbridgeTraining_workspace - Eclipse IDE](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-24%2014_11_26-E__project_eclipse.2019.java.AbridgeTraining_workspace%20-%20Eclipse%20IDE.png)

メニューより下から全てが「ワークベンチ」です。

メニューすぐ下のアイコンが並んでいるエリアは「ツールバー」です。画面では2段構成になっていますが、何段でも解像度の許す限りアイコンとツールバーを追加することができます。

しかし全部追加してしまいますとたくさん目移りして使い辛くなってしまいますので、後述する「パースペクティブ」という画面を切り替える機能を利用することで用途別に必要最低限のシンプルな画面構成で作業を行えます。

さらにその下にはウィンドウがいくつか分割表示されています。それぞれ「サブウィンドウ」といいます。画面では左と右上と右下の3ウィンドウ分割されていますが、いくつでも解像度の許す限り分割することができます。

サブウィンドウより内側にタブがあります。1つのタブは「ビュー」といいます。タブを押すとそれぞれのビューが表示されます。

今画面に表示されているビューを一つずつ説明します。

左のサブウィンドウには「パッケージ・エクスプローラー」ビューがあります。Javaのファイルをエクスプローラー単位に管理するのではなく、パッケージ単位で管理するビューです。

右上のサブウィンドウには今は何も表示されていませんが、「エディター」ビューがあります。「パッケージ・エクスプローラー」ビューからJavaファイルを開きますと、右上のサブウィンドウでファイルの中身が表示されます。

右下のサブウィンドウには「アウトライン」「ランナー」「問題」「コンソール」ビューがあります。

「アウトライン」ビューと「ランナー」ビューは余り使用しませんので飛ばします。

「問題」ビューは「パッケージ・エクスプローラー」ビューで管理されているファイル全てに対して、どんな問題があるかが内容と該当ファイルと行数を一覧表示します。コンパイルのエラーなどもこちらに表示されます。

「コンソール」ビューはプログラム実行時のコンソールの出力をこのビューで表示します。Webアプリを開発していればWebサーバーの起動プロセスなども表示します。

「サブウィンドウ」と「ビュー」はデフォルトでこの位置になっていますが、自分が使いやすいようにドラッグ＆ドロップで位置を自由に変えることができます。



### パースペクティブ

ワークベンチの位置情報は「パースペクティブ」という単位で作成と管理が可能で、コーディング用、デバッグ用と利用用途により切り替えることができます。メニューとツールバーの二段目の右側にある「Java」の箇所がパースペクティブを切り替えるツールバーとなります。

（画面では「デバッグ」もありますが）最初は「Java」しかないと思いますので、他のパースペクティブも表示させてみたいと思います。

![2020-08-24 15_07_47-Window](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-24%2015_07_47-Window.png)

メニュー「ウィンドウ」ー「パースペクティブ」ー「パースペクティブを開く」ー「その他」をクリックします。「パースペクティブを開く」ダイアログが出ることを確認します。

![2020-12-08 16_48_41-パースペクティブを開く](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-12-08%2016_48_41-%E3%83%91%E3%83%BC%E3%82%B9%E3%83%9A%E3%82%AF%E3%83%86%E3%82%A3%E3%83%96%E3%82%92%E9%96%8B%E3%81%8F.png)

一覧の下にある説明にあります通り、余裕があればどれかを選択して「F2」キーを押してみてください。

一覧にある「チーム同期化」を選択して「開く」ボタンをクリックします。

![2020-12-08 16_47_22-E__project_eclipse.2019.java.AbridgeTraining_workspace - Eclipse IDE](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-12-08%2016_47_22-E__project_eclipse.2019.java.AbridgeTraining_workspace%20-%20Eclipse%20IDE.png)

パースペクティブのツールバーに「チーム同期化」が増えて活性化されていることを確認します。先程とはビューが異なっていることを確認します。ちなみに「チーム同期化」はバージョン管理システムを利用するための画面です。

「Java」パースペクティブに戻したいときはパースペクティブのツールバーの「Java」をクリックすれば「Java」が活性化されて画面が切り替わります。



## 不具合の回避

そのままでも使用可能なのですが、色々と不具合のある箇所が2020/08/21時点で存在しています。不具合を回避するための設定を記載します。



### ホバー表示 英語->日本語

#### 原因1:JREがJava 11以降によるもの

Java 11以降のバージョンではホバー表示が英語のままになっています。Java 8だとホバー表示が日本語で表示されていますので、プロジェクトのJREをJava 8にすることで回避します。この方法は新しいバージョンが使用できないというデメリットもありますが、そもそも実際の現場ではバージョンを安易に上げ下げしないことがほとんどですので余り影響を受けることはないと思います。また、プログラム実行時は構成の設定によってバージョン指定ができますので、そちらで改めて設定します。

##### プロジェクト新規作成時

プロジェクトを新規作成する際に設定する方法を記述します。

既存プロジェクトに設定する方法は次項で説明しますので読み飛ばしてください。

![2020-08-24 12_55_30-](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-24%2012_55_30-.png)

プロジェクトを作成します。

「パッケージ・エクスプローラー」に何もなければ「Javaプロジェクトの作成」をクリックします。

![2020-08-24 15_39_26-E__project_eclipse.2019.java.AbridgeTraining_workspace - Eclipse IDE](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-24%2015_39_26-E__project_eclipse.2019.java.AbridgeTraining_workspace%20-%20Eclipse%20IDE.png)

既にある状態で新しく作成するのであれば「パッケージ・エクスプローラー」を右クリック「新規」ー「Javaプロジェクト」をクリックします。



![2020-08-24 16_03_45-新規 Java プロジェクト](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-24%2016_03_45-%E6%96%B0%E8%A6%8F%20Java%20%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88.png)

プロジェクト名を付けます。

「JRE」の「実行環境JREの使用」に「JavaSE-1.8」を選択します。

「完了」ボタンをクリックします。

作成したプロジェクト名が「パッケージ・エクスプローラー」に表示されていることを確認します。

##### 既存プロジェクト設定

既存プロジェクトへ設定する方法を記述します。

確認は次項で説明しますので、前項で設定を済ませていれば読み飛ばしてください。





「パッケージ・エクスプローラー」のプロジェクトを展開し、「JREシステム・ライブラリー」を右クリック - [プロパティー]をクリックします。

JRE システム・ライブラリーにて「ワークスペースのデフォルトJRE 」の後ろが「java8」になっていることを確認します。もしなっていなかった場合はもう一度やり直します。

「ワークスペースのデフォルトJRE 」を選択し、「適用して閉じる」ボタンをクリックします。



##### 確認

「パッケージ・エクスプローラー」のプロジェクトを展開し、「JREシステム・ライブラリー」の横が[JavaSE-1.8]となっていることを確認します。



これで完了ですが、実際のホバー表示を確認したいのであれば、簡単にソースコードを作成して確認します。

「JREシステム・ライブラリー」の下に「src」というパッケージ（フォルダの右上に小包のようなアイコン）があるかと思います。

![2020-08-24 16_18_04-E__project_eclipse.2019.java.AbridgeTraining_workspace - Eclipse IDE](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-24%2016_18_04-E__project_eclipse.2019.java.AbridgeTraining_workspace%20-%20Eclipse%20IDE.png)

「src」パッケージを右クリックし、メニュー「新規」ー「パッケージ」をクリックします。

![2020-08-24 16_18_47-新規 Java パッケージ](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-24%2016_18_47-%E6%96%B0%E8%A6%8F%20Java%20%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8.png)

プロジェクトと同じ名前になっていることを確認して「完了」ボタンをクリックします。

「src」パッケージの下にサブパッケージが出来ていることを確認します。

![2020-08-24 16_22_58-](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-24%2016_22_58-.png)

サブパッケージを右クリックし、メニュー「新規」ー「クラス」をクリックします。

![2020-08-24 16_20_40-新規 Java クラス](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-24%2016_20_40-%E6%96%B0%E8%A6%8F%20Java%20%E3%82%AF%E3%83%A9%E3%82%B9.png)

クラス名を入力し、「完了」ボタンをクリックします。

サブパッケージの下にクラスが表示されていることを確認します。

エディターにクラスのソースコードの内容が表示されていることを確認します。

![2020-08-24 16_26_35-](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-24%2016_26_35-.png)

何か適当なコードを入力してキーワードに対してマウスカーソルをポイントしてみてください。

ホバー表示が出てきて日本語になっていることを確認します。



#### 原因2:Springによるもの

Sprint関係のホバー表示が英語のままになっています。原因はJavadocが定義されていない為なのですが、この箇所を日本語のURLで定義してもエラーになります。回避方法は今の所ありません。

https://spring.pleiades.io/spring/docs/current/javadoc-api/



### プロジェクト作成時 Maven構成問題エラー

プロジェクト作成時、以下の組み合わせを指定するとpom.xmlファイルの1行目が「構成問題」エラーになります。

□Maven

□Jar

「Apache Maven JAR Plugin」の最新バージョン(3.2)が対応していないことによるものです。

上記組み合わせ以外であれば出ませんので、以下いずれかの対応で出なくなります。

□Maven以外のビルドシステムを使用する

□Jar以外のパッケージを使用する

□「Apache Maven JAR Plugin」のバージョンを最新(3.2)より(3.1.1)下げる



「Apache Maven JAR Plugin」のバージョンを下げる方法は以下の手順を行います。

「pom.xml」ファイルをダブルクリックで開きます。

「properties」で検索します。

17行目辺りでヒットすることを確認します。

「properties」タグの終わりに以下の行を追加します。

​		<maven-jar-plugin.version>3.1.1</maven-jar-plugin.version>



pom.xmlファイルを上書き保存します。

エラーが出なくなることを確認します。

https://one-it-thing.com/2002/



### メモリー不足エラー

起動時にメモリー不足エラーが出ることがあります。原因は起動時に確保するメモリ容量のデフォルト上限値が256MBになっていることです。後述するプラグインを追加すると出るようになりますが、プラグインを入れないと便利に使用できませんので、上限値を拡張する方法を記載します。



Eclipseのインストールフォルダを開きます。

「eclipse.ini」ファイルがあることを確認します。

「eclipse.ini」ファイルをテキストエディターで開きます。

行末に以下の2行を追加します。

-Xms512m
-Xmx1024m

「eclipse.ini」ファイルを保存します。

Eclipseを起動します。

エラーが出なくなることを確認します。

もしエラーがまだ出るようでしたら先程の2行の数字を大きくします。数字はMB単位でなるべく2の2乗になるようにします。

https://qiita.com/cordy/items/46895c86715480e1a90c



## プラグイン

拡張機能とも言います。

「Preades」を利用している段階で既に多くのプラグインを取り入れている状態ですが、マシンスペックに余裕があれば取り入れていきましょう。

プラグインを導入すると前述したメモリー不足エラーになることがありますので、都度拡張したり、厳選するようにしましょう。

### Unicodeエスケープ形式 変換

*.propertiesファイルを日本語で記述するには「\u」で始まり、4桁の数字を組み合わせたUnicodeエスケープ形式で記述しなければいけません。しかし見辛くなってしまいますので、プラグインを導入してUnicodeを変換して見れるようにします。



メニュー「ヘルプ」ー「新規ソフトウェアのインストール」をクリックします。「インストール」ダイアログが出ることを確認します。



「追加」ボタンをクリックします。「リポジトリーの追加」ダイアログが出ることを確認します。

名前:「PropertiesEditor」

ロケーション:「http://propedit.sourceforge.jp/eclipse/updates/」

と入力し、「追加」ボタンを押下します。

「子を取り出し中」と出て進捗バーが動いていますので、しばらく待ちます。



「プロパティーエディター」にチェックを入れます。

「次へ」ボタンをクリックします。「インストール詳細」ダイアログが出ることを確認します。

「次へ」ボタンをクリックします。「ライセンスのレビュー」ダイアログが出ることを確認します。

ライセンスに問題が無ければ「使用条件の条項に同意します」を選択し、「完了」ボタンをクリックします。

「セキュリティー警告」ダイアログが出ることを確認します。

「インストール」ボタンをクリックします。

「ソフトウェア更新」ダイアログがでることを確認します。

「今すぐ再起動」ボタンをクリックします。

Eclipseが再起動することを確認します。

*.propertiesファイルのアイコンが緑色のPになっていることを確認します。

ダブルクリックで開くと日本語で表示されることを確認します。



次からはダブルクリックで開くと変換後の状態で見られるようになります。

https://www.saka-en.com/eclipse/eclipse-properties-editor-install/



### コードの統一性を定義

インデントはタブかスペースか、スペースであれば何文字分とるかといったことが統一されていないとコードが見辛くなります。EditorConfigプラグインを導入してエディタの挙動を制御します。

GoogleChromeブラウザを起動して配布サイトへ接続します。

https://github.com/ncjones/editorconfig-eclipse#readme

※英語サイトですので日本語訳しています。

![2020-12-15 14_18_13-ncjones _ editorconfig-eclipse：EclipseIDE用のEditorConfigプラグイン](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-12-15%2014_18_13-ncjones%20_%20editorconfig-eclipse%EF%BC%9AEclipseIDE%E7%94%A8%E3%81%AEEditorConfig%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3.png)

「Install」ボタンをドラッグし、Eclipseへドロップします。

![2020-12-15 14_18_59-Eclipse マーケットプレース](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-12-15%2014_18_59-Eclipse%20%E3%83%9E%E3%83%BC%E3%82%B1%E3%83%83%E3%83%88%E3%83%97%E3%83%AC%E3%83%BC%E3%82%B9.png)

確認ボタンをクリックします。

![2020-12-15 14_19_51-Eclipse マーケットプレース](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-12-15%2014_19_51-Eclipse%20%E3%83%9E%E3%83%BC%E3%82%B1%E3%83%83%E3%83%88%E3%83%97%E3%83%AC%E3%83%BC%E3%82%B9.png)

Apache License Version 2.0です。

ライセンスに問題が無ければ「使用条件の条項に同意します」を選択し、「完了」ボタンをクリックします。

Apache Licenseとは？という方は以下のサイトを参照ください。

https://reikawatanabe.com/whats-apache-license-v2/

基本的に使うだけなら無料で使用できます。

![2020-12-15 14_21_36-セキュリティー警告](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-12-15%2014_21_36-%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E3%83%BC%E8%AD%A6%E5%91%8A.png)

「インストール」ボタンをクリックします。

![2020-12-15 14_22_27-ソフトウェア更新](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-12-15%2014_22_27-%E3%82%BD%E3%83%95%E3%83%88%E3%82%A6%E3%82%A7%E3%82%A2%E6%9B%B4%E6%96%B0.png)

「今すぐ再起動」ボタンをクリックします。

エクスプローラーでプロジェクト配下へ移動します。

プロジェクト配下を右クリック「メニュー」－「新規作成」－「テキストファイル」をクリックします。「.editorconfig」というファイルを作成します。

「.editorconfig」ファイルをテキストエディタで開きます。

以下の内容をコピーして、開いている「.editorconfig」ファイルに張り付けて保存します。

```
# EditorConfig に対応したテキストエディタを使用して下さい。
# 対応テキストエディタ https://qiita.com/naru0504/items/82f09881abaf3f4dc171
# 使い方 https://haniwaman.com/editorconfig/

# これより上の階層の .editorconfig を検索しないようにする
root = true

# 拡張子
[*.java]
# インデントコード
indent_style = tab
# インデント文字数
indent_size = 4
# 改行コード
end_of_line = crlf
# 文字コード
charset = utf-8
# 行末の半角空白を削除する
trim_trailing_whitespace = true
# 最終行は改行のみとする
insert_final_newline = true
```

詳細な内容は以下のリンクを確認します。

EditorConfigの使い方！テキストエディタ側にコーディングルールを守らせよう

https://haniwaman.com/editorconfig/

次からはエディタを開いてタブキーなどを入力すると「.editorconfig」で定義した挙動になっています。

ちなみに「.editorconfig」ファイルを使用する方法はEclipseでなくてもEditorConfigの規格に対応していれば、他のエディタでも有効です。チームで開発する際は是非とも利用しましょう。

## 便利な機能

Eclipseに限らずIDEには開発に特化した便利な機能が搭載されています。高性能なテキストエディタよりもさらにリッチな機能によりプログラムの品質向上に努めましょう。

### 入力補正

定義されたクラスやメソッドを記述する際に、入力途中で候補となる語の一覧が表示される機能です。

試しにエディタウィンドウで「i」と入力した直後に「Ctrl + Space」キーを押してください。

候補となる語の一覧が表示されることを確認します。

カーソルキーで該当の語を選択し「Enter」キーを押すと、残りの語を入力した状態で出力します。

メソッドを何となく覚えているけれども詳細までは覚えていない、というときに一覧が表示されてどれかを選びながら実装していくことができます。紙のマニュアルで探すより効率的です。

### テンプレート

あらかじめ定義した文字列を最初の数文字を入力しただけで出力する機能です。入力補正と良く似ていますがこちらは普通の文字列に対して行われます。

試しにエディタウィンドウで「for」と入力した直後に「Ctrl + Space」キーを押してください。

メソッドとは別に「for - コレクションの繰り返し」と書かれた一覧が表示されることを確認します。

カーソルキーで「for - コレクションの繰り返し」を選択し「Enter」キーを押すと、for文のテンプレートを出力します。

これはあらかじめ「for」をテンプレートとして登録していることで実現しています。

登録方法は何種類かありますが、他のテンプレートも探してみることもできるメニューから進んでいきます。

「メニュー」ー「ウィンドウ」ー「設定」をクリックします。

「Java」＞「エディター」＞「テンプレート」をクリックします。

「テンプレート」一覧が表示されます。登録・編集・除去はこの設定画面から行えます。

入力補正だけではforの単語やifの単語のみしか出てきませんが、テンプレートを利用することでわざわざ手で入力していたものが自動入力されて効率的です。

他にも便利なテンプレートがないか探してみて実施してみてください。

### コード分析表示

ソースコードに対してコンパイルなどを行った結果をエディタウィンドウへ表示する機能です。エラーメッセージだけですとメッセージの意味を理解するのに時間が掛かったりしますが、エディタウィンドウで表示されてどの行のどの箇所に問題があるかが一目で分かるようになっています。

![2020-08-21 11_53_55-education_src_education_Sample4.java - E__project_eclipse.2019.java.AbridgeTrain](Eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-21%2011_53_55-education_src_education_Sample4.java%20-%20E__project_eclipse.2019.java.AbridgeTrain-1597978464899.png)

コンパイル結果だけではなく、プラグインを導入すれば変数の命名が規則正しくなっているかといったことも出力することができます。

### デバッグ

既に作成されたアプリケーションに対し、ソースコードの処理を追いながら実行していく機能です。その間変数の値がどうなっているかなどを確認しながら1行ずつ実行出来たりします。主にバグ（虫という意味の英単語で、プログラム上の不具合のこと）の原因調査に利用します。

#### ブレークポイント

デバッグ実行前に該当行をポイントすることにより、デバッグ実行後、そのポイント行で処理を一時停止させることができます。



![2020-08-20 17_39_05-education_src_education_Sample4.java - E__project_eclipse.2019.java.AbridgeTrain](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-20%2017_39_05-education_src_education_Sample4.java%20-%20E__project_eclipse.2019.java.AbridgeTrain.png)

処理を一時停止させたい行番号を右クリック「メニュー」－「ブレークポイントの切り替え」をクリックします。（テキストエリアの行ではありません。行番号かそのすぐ左のエリアをポイントしてから右クリックします）

![2020-08-20 17_44_48-education_src_education_Sample4.java - E__project_eclipse.2019.java.AbridgeTrain](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-20%2017_44_48-education_src_education_Sample4.java%20-%20E__project_eclipse.2019.java.AbridgeTrain.png)

行番号のすぐ左のエリアに青い円が付いていることを確認します。これがブレークポイントです。

ブレークポイントは別の行に複数付けることができます。

ブレークポイントを解除したい場合はブレークポイント行に対して同じことをすれば解除できます。

デバッグを実行します。

![2020-08-20 17_45_26-education_src_education_Sample4.java - E__project_eclipse.2019.java.AbridgeTrain](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-20%2017_45_26-education_src_education_Sample4.java%20-%20E__project_eclipse.2019.java.AbridgeTrain.png)

虫のアイコンのすぐ右にある矢印をクリックし「デバッグ」ー「Javaアプリケーション」をクリックします。

※ここはプログラムによって「Spring Bootアプリケーション」だったりしますので読み替えてください。



![2020-08-20 17_51_07-screenshot](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-20%2017_51_07-screenshot.png)

デバッグパースペクティブに切り替わります。右上にあるパースペクティブツールバーの虫のアイコンと「デバッグ」の文字が活性化している状態です。元のJavaパースペクティブに切り替えたいときはすぐ横の「Java」の文字をクリックすれば元に戻ります。今はデバッグ方法の説明をしたいので切り替えは最後に行うとしまして、デバッグパースペクティブの利用方法を続けて説明します。

左のエリアにはどこのメソッドの何行目で処理が中断したかが解るようになっています。

中央のエリアには先程ブレークポイントを置いたソースファイルと処理が止まっていることを示す矢印が重なっていることを確認します。

右のエリアには該当行内のメソッドで定義されている引数、変数の値が一覧表示されています。

メニュー下の以下のアイコンに注目しましょう。

![2020-08-20 17_57_32-education_src_education_Sample4.java - E__project_eclipse.2019.java.AbridgeTrain](eclipse%20%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89.assets/2020-08-20%2017_57_32-education_src_education_Sample4.java%20-%20E__project_eclipse.2019.java.AbridgeTrain.png)

１番目のブレークポイントに斜め線が引かれているアイコンは「すべてのブレークポイントをスキップ」します。ブレークポイントを無視して処理を続行したいときに使用します。「F8」キーでも同じことが出来ます。

２番目の右矢印アイコンは「再開」します。次のブレークポイント行まで処理を進めたいときに使用します。

３番目の縦イコールアイコンは「中断」します。ブレークポイントによる一時停止ではない状態で入力中など処理を待機しているときに使用します。

４番目の正方形アイコンは「終了」します。処理を続行させずに強制終了させたい時に使用します。

５番目の二つの丸に繋がっていた線を切っているようなアイコンは「切断」します。受信待機中か送信中の時に強制的に処理を止めて次に処理を続行させたいときに使用します。

次からが実際に良く使う便利な機能です。

６番目の点と点の間にポイントされた矢印アイコンは「ステップ・イン」します。今矢印が止まっている行より1行ずつ処理を進めたいときに使用します。もし矢印がメソッドの呼び出し元になっていた場合、メソッドの内部に入って処理を進めます。「F5」キーでも同じことが出来ます。

７番目の点のすぐ後ろにポイントされた矢印アイコンは「ステップ・オーバー」します。矢印がメソッドの呼び出し元ではない場合は「ステップ・イン」と変わらない動作ですが、もし矢印がメソッドの呼び出し元になっていた場合、メソッドの処理をすぐに済ませてその次の行へ処理を進めます。「F6」キーでも同じことが出来ます。

８番目の点と点の間から抜けだした矢印アイコンは「ステップ・リターン」します。矢印行内のメソッドの処理を終わらせてすぐメソッドの呼び出し元の次の行まで処理を進めます。「F7」キーでも同じことが出来ます。

９番目の三本線から抜け出した矢印アイコンは「フレームにドロップ」します。矢印行内のメソッドの処理を無かったことにして最初のメソッド行まで移動します。

１０番目の分岐した矢印アイコンは「ステップ・フィルターの使用」します。他のベンダーが作成したメソッドはソースコードが用意されていないことが多いので「ステップ・イン」で追えないことがあります。そのようなメソッドをあらかじめフィルター登録しておけば、自分が開発したソースは「ステップ・イン」し、フィルター登録したメソッドは「ステップ・オーバー」します。

とりあえず説明よりも実際に動作させてみた方が理解しやすいと思います。自分で管理しているソースコードを適当に選んで試してみてください。

### キーボードショートカット

コーディングのほとんどはキーボードでタイピングすることにあると言って良いでしょう。このタイピング時間をさらに少なく済むようにしたものがキーボードショートカットです。また、マウス操作で行うよりキーボードで操作したほうが速いことがあります。積極的に覚えて効率的に作業をしましょう。ここに書かれたもの以外にもたくさんありますので、余裕が出てきましたらWeb検索などで探してみてください。

#### コード整形

Ctrl + Shift + F  選択したファイルタブのコード整形

Ctrl + I  選択した範囲のコード整形



#### 編集

Ctrl + Alt + ↓ 行コピー＆ペーストしながら下の行へ移動をワンアクションで行う

Ctrl + / コメントアウト（コメント行に実行するとコメント解除）

Shift + Alt + R リファクタリング（変更したい変数名の一括変換）

Ctrl + Space 入力補正